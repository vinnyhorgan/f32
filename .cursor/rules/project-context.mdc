---
description: Core project context and non-negotiable rules for flux-32
alwaysApply: true
---

# flux-32 — Project Context

Educational M68K emulator playground. Tauri v2 desktop app: React frontend + Rust backend.

## Current Focus
GUI debugger and emulator experience. Emulator core is solid (passes all 60 Musashi tests).

## Non-Negotiable Rules

**Backend (Rust)**
- All source in `src-tauri/src/` — flat, no subdirectories
- Minimal dependencies — write it yourself; std is enough
- Tauri commands in `lib.rs`; no business logic in IPC layer
- `cargo fmt` + `cargo clippy -- -D warnings` before commit

**Frontend (TypeScript/React)**
- All emulator calls via `EmulatorAPI` in `src/lib/emulator-api.ts`
- React + Tailwind + shadcn/ui — no extra UI libs
- No `any` types
- Run `npm run lint` before commit

**Architecture**
- Frontend ↔ Backend only via Tauri `invoke()` and commands in `lib.rs`
- Types in `emulator-types.ts` must match Rust structs
